<!DOCTYPE html>
<html lang="en">
<head>
<title>Chat Application</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Raleway'
	rel='stylesheet' type='text/css'>
<link rel='stylesheet' type='text/css' media='all' href='css/chat.css'>
<link rel='stylesheet' type='text/css' media='all' href='css/chatbox.css'>
<link rel="stylesheet"
	href="//cdn.jsdelivr.net/jquery.sidr/2.2.1/stylesheets/jquery.sidr.light.min.css">

 <script  src = "js/dashboard.js" type = "text/javascript"></script>   
 <script  src = "js/notification.js" type = "text/javascript"></script>  
 <script  src = "js/chatBoxLogin" type = "text/javascript"></script>  


</head>
<body>

	<!--  The side navigation bar which will remain on top when screen width minimizes -->
	<nav class="navbar navbar-default sidebar" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#bs-sidebar-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
			</div>
			<div class="collapse navbar-collapse"
				id="bs-sidebar-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Dashboard<span
							style="font-size: 16px;"
							class="pull-right hidden-xs showopacity glyphicon glyphicon-home"></span></a></li>
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown">My Task<span class="caret"></span><span
							style="font-size: 16px;"
							class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a>
						<ul class="dropdown-menu forAnimate" role="menu"
							style="width: auto !important; height: auto !important; background-color: none;">
							<li><a href="{{URL::to('createusuario')}}"> Report</a></li>
							<li><a href="#">Send report</a></li>
							<li><a href="#">Attached messages</a></li>
							<li class="divider"></li>
							<li><a href="#">Form</a></li>
							<li class="divider"></li>
							<li><a href="#">Images</a></li>
						</ul></li>
					<li><a href="#">Edit Profile<span style="font-size: 16px;"
							class="pull-right hidden-xs showopacity glyphicon glyphicon-th-list"></span></a></li>
					<li><a data-toggle="modal" href="#changepassworddmodal">Change
							Password<span style="font-size: 16px;"
							class="pull-right hidden-xs showopacity glyphicon glyphicon-tags"></span>
					</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!--  The side navigation bar ends here  -->

	<!--  The top ul li class starts for the profile user name, notification and alerts and chat box bars. -->

	<div class="clearfix">
		<div class="container-fluid">

			<!--  The ul for the profile username -->

			<ul class="pull-left">
				<li class="profile-info"><a href="Profile.html"> <img
						src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Yonina_Tulip.jpg"
						alt="image" class="test"> Shurakshya Kharel
				</a>
			</ul>

			<!--  The ul class for the notification alerts messages. mid top bars on the page -->

			<ul class="pull-left pull-right-xs pull-none-xsm"
				style="margin-top: 20px;">
				<li id="notice" class="notifications dropdown"
					style="padding-right: 10px;" data-placement="bottom"
					data-toggle="tooltip" title="See notification"><a href="#"
					class="dropdown-toggle" data-toggle="dropdown"
					data-hover="dropdown" data-close-others="true"> <span
						class="glyphicon glyphicon-alert"><span class="badge">5
						</span></span></a>
					<ul class="dropdown-menu notice">
						<li class="top">
							<p class="small">
								<a href="#" class="pull-right">Mark all read</a> "you have "<strong>
									3</strong> "new notifications."
							</p>
							<hr
								style="border-top: 1px solid rgba(199, 191, 191, 0.91); margin: 0px;">
						</li>
						<li class="wrapit">
							<p class="small">
								<span class="pull-right" style="color: red; font-sze: 12px;">15:11
									08.03.2015</span>Sandesh Poudel
							</p>
							<p style="font-size: 14px; font-weight: bold;">
								<span class="pull-right"
									style="background-color: red; padding-left: 10px;">ALERT</span>Sandesh
								has made my life hell. he doesnot allow time for me to rest. Now
								i wanna die :(
							</p>
							<hr
								style="border-top: 1px solid rgba(199, 191, 191, 0.91); margin: 0px;">
						</li>

					</ul></li>

				<li class="notifications dropdown col-sm-offset-1"
					data-placement="bottom" data-toggle="tooltip" title="See Reports"><a
					href="#" class="dropdown-toggle" data-toggle="dropdown"
					data-hover="dropdown" data-close-others="true">Reports </a>
					<ul class="dropdown-menu reports">
						<li class="top">
							<p class="small">
								<a href="#" class="pull-right">Mark all read</a> "you have "<strong>
									3</strong> "new notifications."

							</p>
						</li>
						<li id="listReports"></li>
					</ul></li>

				<li id="message" class="notifications dropdown col-sm-offset-1"
					style="padding-right: 10px;" data-placement="bottom"
					data-toggle="tooltip" title="See Messages"><a href="#"
					class="dropdown-toggle" data-toggle="dropdown"
					data-hover="dropdown" data-close-others="true"><span
						class="glyphicon glyphicon-envelope"><span class="badge">3
						</span></span></a>
					<ul class="dropdown-menu messages">
						<li class="top">
							<p class="small">
								<a href="#" class="pull-right">Mark all read</a> "you have "<strong>
									3</strong> "new notifications."
							</p>
						</li>
						<li></li>
						<li id="listMessage"></li>
					</ul></li>
			</ul>



			<!--  the ul class consisting of the chat and logout with the right menu bar on click function which has users list and chatrooms-->
			<ul class="pull-right pull-left-xs"
				style="margin-top: 20px; padding-right: 30px;">

				<li style="padding-right: 15px;">Logout</li>
				<li class="chatinfo"><a href="#sidr" id="rightmenu"> Chat </a>

					<div id="sidr">
						<ul id="listusers">

							
						</ul>
						<ul id="GroupChat">
							
						</ul>
					</div>
			</ul>


			<!--  The box for the bit of explanation of the hospital -->
			<div class="jumbotron">
				<h2 class="text-uppercase" style="position: relative;">Jorvi
					Hospital</h2>
				<img class="img-responsive"
					src="http://previews.123rf.com/images/dolgachov/dolgachov1307/dolgachov130701752/21034411-healthcare-medical-and-technology-doctor-showing-something-patient-on-tablet-pc-in-hospital-Stock-Photo.jpg"
					alt="chatapp" width="300" height="300" style="float: right;">
				<p class="small" style="position: relative">Neon Theme comes
					with pre-defined functions to handle layout behaviors. You have
					tens of options to make your theme layout look differently. In this
					page, you are going to see how you can show, hide, remove or add
					layout elements. In order to customize the layer JS file
					neon-api.js is required to load.</p>

			</div>



			<!--  the foot element to write many other description of the chat application and the Hospital -->
			<div id="footelement">
				<div class="row" style="padding-bottom: 10px; margin-bottom: 50px;">
					<div class="col-md-4">
						<h4>Announcements</h4>
						<hr>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>

					</div>
					<div class="col-md-4">
						<h4>Vacancy</h4>
						<hr>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>

					</div>
					<div class="col-md-4">
						<h4>Events</h4>
						<hr>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>
						<div class="well">

							<p>tell me tell me something i Dnt know smthng i dnt know.
								kendall jenner donot need bf to prove her... Gigi hadid vogue
								covers looks great.</p>
							<p class="small" style="color: blue">
								<span class="pull-right">12.52 Pm 08.03.2016</span> Shurakshya
								Kharel
							</p>
						</div>

					</div>
				</div>
			</div>


			<!--  end of foot element -->

			
			<!--  chatbox div started -->
			<div id="chatbox">
				<div id="eachchatbox"
					style="display: none; position: fixed; bottom: 0;">
					<div class="col-md-3">
						<div class="portlet portlet-default">
							<div class="portlet-heading">
								<div class="portlet-title">
									<h4>
										<span id="username" style="color: white"></span>
									</h4>
								</div>
								<div class="portlet-widgets">
									<div class="btn-group">
										<button type="button"
											class="btn btn-white dropdown-toggle btn-xs"
											data-toggle="dropdown">
											Status <span class="caret"></span>
										</button>
										<button type="button" class="btn btn-white btn-xs"
											id="minimize">
											<span class="glyphicon glyphicon-minus"
												style="font-size: 12px;"></span>
										</button>
										<button type="button" class="btn btn-white btn-xs" id="remove">
											<span class="glyphicon glyphicon-remove"
												style="font-size: 12px;"></span>
										</button>
										<ul class="dropdown-menu" role="menu"
											style="width: auto !important; height: auto !important; background-image: none;">
											<li><a href="#"> Online</a></li>
											<li><a href="#"> Away</a></li>
											<li><a href="#"> Offline</a></li>
										</ul>
									</div>
									<span class="divider"></span> <a data-toggle="collapse"
										data-parent="#accordion" href="#chat"></a>
								</div>
								<div class="clearfix" style="background-color:#34495e !important;background-image:none;"></div>
							</div>
							<div id="chat" class="panel-collapse collapse in">
								<div class="portlet-body chat-widget"
									style="overflow-y: scroll; width: auto; height:200px;">
									<div class="row">
										<div class="col-lg-12">
											<div class="media">
												<a class="pull-left" href="#"><img
													src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Yonina_Tulip.jpg"
													class="img-circle" alt="Cinque Terre" width="30"
													height="30"> </a>
												<div class="media-body">
												<h5>
												Jane Smith <span class="small pull-right">12:23 PM</span>
												</h5>	
													<p>something over fbkjdb kjbkjsbn csjkfb skjbf jksbfkjsbgkwghiwk ncwhkv w kwjcwjkrfbdbgkbgdfjk ber vbej vilknerjwlkfmwgnreiowonegnckbf wnxkwejrwxl kcbgdvnc wjrowjctbecnio wejbh
													</p>
												</div>
												
											</div>
											<div class="media">
												<a class="pull-right" href="#"><img
													src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Yonina_Tulip.jpg"
													class="img-circle" alt="Cinque Terre" width="30"
													height="30"> </a>
												<div class="media-body" style="float:right !important;">
													<h5>
														Jane Smith <span class="small pull-right">12:23 PM</span>
													</h5>
													<p>something over here</p>
												</div>
											</div>
										</div>
									</div>

								</div>



								<div class="portlet-footer">
									<form role="form">
										<div class="form-group">
											<textarea class="form-control" placeholder="Enter message..."></textarea>
										</div>
										<div class="form-group">
											<input type="file" name="datafile" size="40">
											<button type="button" class="btn btn-default pull-right">Send</button>
											<div class="clearfix" style="background-image:none;background-color:#e0e7e8;"></div>
										</div>
									</form>

								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
			<!-- End of chat box -->
			
			<!-- start of footer element -->
			<footer>
			
			</footer>
			<!-- end of footer element -->
			
			

			<!-- start of the change password modal -->
			<div class="modal fade" id="changepassworddmodal" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header" style="padding: 35px 50px;">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4>
								<span class="glyphicon glyphicon-lock"></span> Change Password
							</h4>
						</div>
						<div class="modal-body" style="padding: 40px 50px;">
							<form role="form">
								<div class="form-group">
									<label for="oldpwd"><span
										class="glyphicon glyphicon-eye-open"></span> Old Password</label> <input
										type="text" class="form-control" id="oldpwd">
								</div>
								<div class="form-group">
									<label for="newpwd"><span
										class="glyphicon glyphicon-eye-open"></span> New Password</label> <input
										type="text" class="form-control" id="newpwd">
								</div>
								<div class="form-group">
									<label for="newpwdmatch"><span
										class="glyphicon glyphicon-eye-open"></span> Confirm Password</label>
									<input type="text" class="form-control" id="newpwdmatch">
								</div>
								<button type="submit" class="btn btn-success btn-block">
									<span class="glyphicon glyphicon-off"></span> save
								</button>
							</form>
						</div>
						<div class="modal-footer">
							<button type="submit"
								class="btn btn-danger btn-default pull-left"
								data-dismiss="modal">
								<span class="glyphicon glyphicon-remove"></span> Cancel
							</button>

						</div>
					</div>

				</div>
			</div>

			<!--  end of the modal -->
		</div>
	</div>


	<script src="//cdn.jsdelivr.net/jquery/2.2.0/jquery.min.js"></script>
	<!-- Including the Sidr JS -->
	<script src="//cdn.jsdelivr.net/jquery.sidr/2.2.1/jquery.sidr.min.js"></script>
	<script>
		$(document).ready(
				function() {
					$('#rightmenu').sidr({
						side : 'right',
						displace : false
					});

					$('#sidr').on('click', 'li', function() {
						var name = $(this).text();
						document.getElementById("username").innerHTML = name;
						$('.col-md-3').attr('id', name);
						var chatdiv = $('#eachchatbox').html();
						var maindiv = $('#chatbox');
						var count = (maindiv).children().length;
						console.log(count);
						var width = $(document).width();
						console.log(width);
						if(width < 768 && count <= 1 ){
							$('#chatbox').append(chatdiv);
							window.scrollTo(0,document.body.scrollHeight);
							$('#chatbox').css({
								'margin-left':'0'		
							})
							console.log('1 child appended');
						
						}else{
							if(count <= 3 && width >= 768){
								$('#chatbox').append(chatdiv);
								console.log('child appended');
							} else {
								console.log('no child added');
							}
							
						}
						
						

						

					}).mouseout(function() {
						$('#sidr').hide();
					});

					$('#rightmenu, #sidr, #listusers, #GroupChat').mouseover(
							function() {
								$('#sidr').show();
							});

					$('body').on('click', '#minimize', function() {
						var parentdiv = $(this).parents(':eq(3)');
						parentdiv.children('div#chat').slideToggle();
						/*parentdiv.children('div.portlet-heading').css({
							'position':'fixed',
							'bottom':'0',	
						});
						parentdiv.childrem('div.portlet-widgets').hide();*/
					}).on('click', '#remove', function() {
						var parentdiv = $(this).parents(':eq(4)');
						parentdiv.hide();
					});
					
					

				});

		/*$(document.body ).click(function() {
		var c = 0;
		$('#rightmenu').click(function() {
			$('.jumbotron').stop().animate({
				left : ++c % 2 * 1000
			}, 'fast');

		});

			
			
			
			
		    $( document.body ).append( $( "<div>" ) );
		    var n = $( "div" ).length;
		    $( "span" ).text( "There are " + n + " divs." +
		      "Click to add more.");
		  }) 
		  
		  
		  var myarray = [];
		var current = 1;

		$('#theButton').click(function() {
		if (myarray.length >= 3) {
		myarray.pop();
		}
		myarray.unshift("item " + current++);
		$('#container').html(myarray.join("<br>"));
		});
		  
		  
		  
		  // T */
	</script>
</body>
</html>
